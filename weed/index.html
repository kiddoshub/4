<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Î” HYPERTRIAD</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      overflow: hidden;
      height: 100%;
    }

    canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <canvas id="triangleCanvas"></canvas>

  <script>
    const canvas = document.getElementById('triangleCanvas');
    const ctx = canvas.getContext('2d');
    let w, h;

    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }

    window.addEventListener('resize', resize);
    resize();

    const maxDepth = 7;
    let tick = 0;

    function drawTriangle(x1, y1, x2, y2, x3, y3, depth) {
      if (depth <= 0) {
        ctx.beginPath();
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);
        ctx.lineTo(x3, y3);
        ctx.closePath();
        ctx.strokeStyle = `hsl(${(tick + depth * 20) % 360}, 100%, 60%)`;
        ctx.shadowBlur = 20;
        ctx.shadowColor = ctx.strokeStyle;
        ctx.stroke();
        return;
      }

      const mx1 = (x1 + x2) / 2;
      const my1 = (y1 + y2) / 2;
      const mx2 = (x2 + x3) / 2;
      const my2 = (y2 + y3) / 2;
      const mx3 = (x3 + x1) / 2;
      const my3 = (y3 + y1) / 2;

      drawTriangle(x1, y1, mx1, my1, mx3, my3, depth - 1);
      drawTriangle(x2, y2, mx2, my2, mx1, my1, depth - 1);
      drawTriangle(x3, y3, mx3, my3, mx2, my2, depth - 1);
    }

    function animate() {
      tick += 0.5;
      ctx.clearRect(0, 0, w, h);

      const size = Math.min(w, h) * 0.9;
      const height = size * Math.sqrt(3) / 2;

      const x1 = w / 2;
      const y1 = h / 2 - height / 2;
      const x2 = w / 2 - size / 2;
      const y2 = h / 2 + height / 2;
      const x3 = w / 2 + size / 2;
      const y3 = h / 2 + height / 2;

      ctx.lineWidth = 1.5 + Math.sin(tick * 0.05) * 0.5;

      drawTriangle(x1, y1, x2, y2, x3, y3, maxDepth);

      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>